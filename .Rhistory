setwd("~/workspace/R")
read.table("movie1.txt")
m1<-read.table("movie1.txt")
m2<-read.table("movie2.txt")
plot(m1,m2)
plot(m1[,2],m2[,2])
lm(m1[,2]~m2[,2])
summary(lm(m1[,2]~m2[,2]))
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/Imdb.tsv")
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv")
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t")
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",fill=T)
duplicated(aa)
sum(duplicated(aa))
aa[duplicated(aa),]
head(aa)
tail(aa)
str(aa)
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",fill=T,colClasses="character")
str(aa)
tail(aa)
head(aa)
sum(duplicated(aa))
aa[duplicated(aa),]
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",fill=T,colClasses="character")
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",colClasses="character")
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",fill=T,colClasses="character")
aa[64,]
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t+",colClasses="character")
aa[63,]
aa<-read.table("~/hadoop/hadoop-class-example/data/movie/imdb.tsv",sep="\t",fill=T,colClasses="character",quote="")
head(aa)
aa[,64]
aa[64,]
sum(duplicated(aa))
setwd("~/workspace/R/ucsc-idta/UCSCX-IDTA-hw3")
cia<-read.table("../ciahealth.txt", sep="\t", quote="",
colClasses=c("NULL", "character", "numeric"))
cia[,1]<-tolower(cia[,1])
ocde<-read.csv("../depensesSante.csv", header=T)
str(ocde)
str(ocde)
Names(ocde)<-c("country", "gvtExpense", "totExpense")
ocde<-within(ocde, Country<-tolower(as.character(Country)))
ocde<-within(ocde, gvtExpense<-as.numeric(as.character(gvtExpense)))
ocde<-within(ocde, totExpense<-as.numeric(as.character(totExpense)))
str(ocde)
names(ocde)
names(ocde)<-c("country", "gvtExpense", "totExpense")
ocde<-within(ocde, Country<-tolower(as.character(Country)))
ocde<-within(ocde, gvtExpense<-as.numeric(as.character(gvtExpense)))
ocde<-within(ocde, totExpense<-as.numeric(as.character(totExpense)))
cia.ocde<-merge(cia, ocde, by.x="V2", by.y="country")
dim(cia.ocde)
str(cia.ocde)
names(cia.ocde)<-c("country", "cia", "gvtExpense", "totExpense")
ocde$Country[!(ocde$Country %in% cia.ocde$V2)]
with(cia.ocde, sum(cia==totExpense, na.rm=T))
summary(cia.ocde)
url<-"http://wdi.worldbank.org/table/2.15"
wb<-readHTMLTable(url, colClasses=c("character", rep("numeric",10)), which=3)
libray(XML)
library(XML)
wb<-readHTMLTable(url, colClasses=c("character", rep("numeric",10)), which=3)
wb<-wb[,1:2]
wb<-within(wb, V1<-tolower(V1))
cia.ocde.wb<-merge(cia.ocde,wb, by.x="country", by.y="V1")
str(cia.ocde.wb)
colnames(cia.ocde.wb)[5]<-"wb"
require(reshape2)
ordered<-cia.ocde.wb[order(cia.ocde.wb$wb),]
order.melt<-melt(ordered, id.vars="country" )
order.melt$country<-factor(order.melt$country, levels=unique(order.melt$country), ordered=T)
require(ggplot2)
p<-ggplot(data = order.melt, aes(x=country, y= value, colour=variable, group=variable))
p<-p + geom_point(size=2.5) +theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
p<-p+ylab("Healthcare Cost as percent of GDP")
p
mydf<-read.csv("../KCASANTA142.csv", stringsAsFactors=F)
#I take my Time column and will make a list
timelist<-strsplit(mydf$Time,"\\-+|\\ |\\:")
#I reshape it as a df
library("plyr")
timedf <- ldply(timelist)
colnames(timedf) <- c("year","month","day","hour","minute","second")
#I make my nice new df
mynewdf<-cbind("temperature"=mydf$TemperatureF, timedf[,c("month","day","year",'hour',"minute")])
perhour<-aggregate(temperature~hour+day+month+year, data=mynewdf, FUN=mean)
perhour2<-ddply(mynewdf,.(hour,day,month,year),summarise, meanTemp=mean(temperature))
perhour2<-ddply(mynewdf,.(hour),transform, meanTemp=mean(temperature))
perhour2<-ddply(mynewdf,.(hour), meanTemp=mean(temperature))
perhour2<-ddply(mynewdf,.(hour),summarize, meanTemp=mean(temperature))
perhour2<-ddply(mynewdf,.(hour),temperature=mean(temperature))
install.packages("dplyr")
library(dplyr)
perhour3<-mynewdf%.%group_by(hour)%.%summarise(meanTemp=mean(temperature))
perhour3<-mynewdf%.%group_by(hour)%.%mutate(meanTemp=mean(temperature))
perhour2<-ddply(mynewdf,.(hour,day,month,year),summarise, meanTemp=mean(temperature))
perhour3<-mynewdf%.%group_by(hour,day,month,year)%.%mutate(meanTemp=mean(temperature))
ordered<-cia.ocde.wb[order(cia.ocde.wb$wb),]
order.melt<-melt(ordered, id.vars="country")
order.melt$country<-factor(order.melt$country, levels=unique(order.melt$country), ordered=T)
require(ggplot2)
str(order.melt)
perhour3<-mynewdf%.%group_by(hour,day,month,year)%.%summarise(meanTemp=mean(temperature))
head(perhour3)
perhour3<-mynewdf%.%group_by(year,month,day,hour)%.%summarise(meanTemp=mean(temperature))
head(perhour3)
